<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Romper Frog Demo</title>
    <style>
        .switchbuttons img {
            width: 50px;
            background: rgba(200, 200, 230, 0.5);
            border: 1px solid lightgray;
        }

        .switchbuttons li {
            list-style: none;
        }

        .switchbuttons ul {
            position: absolute;
            left: 10px;
            top: 0;
            margin-left: 0px;
            padding-left: 5px;
        }

        .inactive {
            opacity: 0.3;
            /* visibility: hidden; */
        }

        .active {
            visibility: visible;
        }

        #backNEbutton,
        #nextNEbutton {
            position: absolute;
            top: 250px;
            height: 30px;
            width: 50px;
            background: rgba(200, 200, 230, 0.5);
            border: 1px solid lightgray;
            border-radius: 0px;
            color: white;
            margin: 5px;
            z-index: 5;
        }

        #backNEbutton {
            left: 10px;
        }

        #nextNEbutton {
            left: 445px
        }

        #romper-target img,
        video {
            max-height: 281px;
        }

        img.inactiveIcon {
            width: 30px;
        }

        img.activeIcon {
            width: 60px;
        }

        #chapterIcons li {
            list-style: none;
            /* display: inline; */
        }

        #chapterIcons {
            /* position: absolute;
            top: 0px;
            left: 430px; */
        }

        div#render-element {
            background-color: rgb(230, 247, 252);
            padding-left: 0px;
            padding-top: 0px;
            /* padding: 10px; */
        }

        div#subrenderer {
            background-color: rgb(214, 245, 214);
            padding: 0px;
        }

        div#story_element {
            background-color: rgb(253, 245, 231);
            padding: 0px;
        }
    </style>
</head>

<body>
    <div id="romper-target"></div>
    <script type="application/json" id="romper-story">
        {
            "asset_collections": [
                {
                    "id": "d22484f9-da14-484b-8051-71be36b2227f",
                    "name": "Looping Background Music",
                    "description": "This background music loops throughout the experience and is played under each step of the make",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:looping-audio/v1.0",
                    "assets": {
                        "audio_src": "urn:x-ipstudio:entity:package:af4dfbe4-5efc-46a8-ab6e-a50b891ec119"
                    }
                },
                {
                    "id": "FB95A7AB-FB65-4C73-9FD3-1910F8CE754F",
                    "name": "Presenter icon Image Asset Collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:image/v1.0",
                    "assets": {
                        "image_src": "./dist/democontent/presenter.svg"
                    }
                },
                {
                    "id": "265ECCF4-B4B0-4E55-9B9A-FAE9849330B1",
                    "name": "Overhead icon Image Asset Collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:image/v1.0",
                    "assets": {
                        "image_src": "./dist/democontent/overhead.svg"
                    }
                },
                {
                    "id": "A914B88E-46D3-4D55-BE5F-7DE0000487BC",
                    "name": "Close up icon Image Asset Collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:image/v1.0",
                    "assets": {
                        "image_src": "./dist/democontent/hands.svg"
                    }
                },
                {
                    "id": "cd825485-4de6-4b88-99c0-33e609dcf66e",
                    "name": "Title Sequence AV asset collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simpleav/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "6364E048-5F87-4226-BEC5-21776E0DF65F",
                    "name": "General Intro AV asset collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simpleav/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "8b06cc58-1ccb-42e1-aeec-4302e817c671",
                    "name": "How To Use Tool AV asset collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simpleav/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "94ecd001-b209-4863-9853-b87c78d6aeaa",
                    "name": "Instructor Introduction AV asset collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simpleav/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "f1482c67-1c5b-407b-90c3-c2f7288e253c",
                    "name": "Make Step 1 Camera Angle 1",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "BD4289A0-A26E-430E-82BA-87493E4CF6C1",
                    "name": "Make Step 2 Camera Angle 1",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "fa20bde6-a388-4ec8-a457-ceaecdddcb4d",
                    "name": "Make Step 1 Camera Angle 2",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "D7EFDC54-136B-4C50-9D55-C0BB5526F00C",
                    "name": "Make Step 2 Camera Angle 2",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "4522264a-eac6-4f33-850e-f8b3a6ddfd82",
                    "description": "",
                    "assets": {
                        "av_src": "nothing"
                    },
                    "version": "0.0",
                    "name": "Make Step 3 Camera 1",
                    "tags": {},
                    "representation_type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0"
                },
                {
                    "id": "89d3beb8-3ac4-4105-a0f4-56cf7c591880",
                    "description": "",
                    "assets": {
                        "av_src": "nothing"
                    },
                    "version": "0.0",
                    "name": "Make Step 4 Camera 1",
                    "tags": {},
                    "representation_type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0"
                },
                {
                    "id": "852bd2f3-3b76-40af-bca6-b266a4c0d22e",
                    "name": "Make Step 1 Camera Angle 3",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "17A8C096-89B3-4033-8678-6DC4C1C3B80E",
                    "name": "Make Step 2 Camera Angle 3",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                },
                {
                    "id": "b2923d5a-c957-49d5-9dee-8cc00e5cd126",
                    "description": "",
                    "assets": {
                        "av_src": "nothing"
                    },
                    "version": "0.0",
                    "name": "Make Step 3 Camera 2",
                    "tags": {},
                    "representation_type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0"
                },
                {
                    "id": "c6fa1468-2e09-4d32-8064-797a8e3d18c4",
                    "description": "",
                    "assets": {
                        "av_src": "nothing"
                    },
                    "version": "0.0",
                    "name": "Make Step 4 Camera 2",
                    "tags": {},
                    "representation_type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0"
                },
                {
                    "id": "adeb8f74-00d1-45ce-bf92-8328bc66457a",
                    "name": "Make Step 1 Image Asset Collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:image/v1.0",
                    "assets": {
                        "image_src": "./dist/democontent/colour_flog1.svg"
                    }
                },
                {
                    "id": "A5D6659B-9B9D-4C72-8A5D-826F100EFB75",
                    "name": "Make Step 2 Image Asset Collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:image/v1.0",
                    "assets": {
                        "image_src": "./dist/democontent/colour_flog2.svg"
                    }
                },
                {
                    "id": "21da63f3-1595-4050-bd9d-4ae605c19259",
                    "description": "",
                    "assets": {
                        "av_src": "nothing"
                    },
                    "version": "0.0",
                    "name": "Make Step 3 Camera 3",
                    "tags": {},
                    "representation_type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0"
                },
                {
                    "id": "a6a85eb5-e89f-4b55-8ae7-3bac9e3149f5",
                    "description": "",
                    "assets": {
                        "av_src": "nothing"
                    },
                    "version": "0.0",
                    "name": "Make Step 4 Camera 3",
                    "tags": {},
                    "representation_type": "urn:x-object-based-media:asset-collection-types:simple-av/v1.0"
                },
                {
                    "id": "3f0f5f04-c3e1-456b-91ce-37a0a62fc681",
                    "description": "",
                    "assets": {
                        "image_src": "./dist/democontent/colour_flog3.svg"
                    },
                    "version": "0.0",
                    "name": "Make Step 3 Image",
                    "tags": {},
                    "representation_type": "urn:x-object-based-media:asset-collection-types:image/v1.0"
                },
                {
                    "id": "ae9b9c9f-9a94-4449-b3de-1b2dbb2df447",
                    "description": "",
                    "assets": {
                        "image_src": "./dist/democontent/colour_flog4.svg"
                    },
                    "version": "0.0",
                    "name": "Make Step 4 Image",
                    "tags": {},
                    "representation_type": "urn:x-object-based-media:asset-collection-types:image/v1.0"
                },
                {
                    "id": "ae397f04-c91b-4380-833f-03abc18bf443",
                    "name": "Credit Sequence AV asset collection",
                    "description": "",
                    "version": "0:0",
                    "tags": {},
                    "type": "urn:x-object-based-media:asset-collection-types:simpleav/v1.0",
                    "assets": {
                        "av_src": "http://open.live.bbc.co.uk/mediaselector/5/select/version/2.0/vpid/p04p74yq/mediaset/mobile-phone-main/format/json/proto/https/jsfunc/"
                    }
                }
            ],
            "story": [
                {
                    "id": "74ecc9ed-a4f8-4706-8762-779bd0430fd3",
                    "version": "0:0",
                    "name": "Make! Craft Britain",
                    "beginnings": [
                        {
                            "id": "37580f18-09b1-4993-806c-b4002bc0896c",
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ],
                    "narrative_elements": [
                        {
                            "id": "37580f18-09b1-4993-806c-b4002bc0896c",
                            "version": "0:0",
                            "name": "Intro",
                            "description": "Intro sub-story narrative element",
                            "tags": {},
                            "presentation": {
                                "type": "STORY_ELEMENT",
                                "target": "12451533-53b8-4534-be77-7e714d9ca75e"
                            },
                            "links": [
                                {
                                    "target": "68cf2acd-0b62-45cc-ac1e-0eddc5c8e571",
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "NARRATIVE_ELEMENT"
                                }
                            ]
                        },
                        {
                            "id": "68cf2acd-0b62-45cc-ac1e-0eddc5c8e571",
                            "version": "0:0",
                            "name": "MAKE!",
                            "description": "MAKE! sub-story narrative element",
                            "tags": {},
                            "presentation": {
                                "type": "STORY_ELEMENT",
                                "target": "634710e9-1ecd-4652-8ae6-771516cbe548"
                            },
                            "links": [
                                {
                                    "target": "67b61c77-35be-45c5-ba73-60dcc74a0bf6",
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "NARRATIVE_ELEMENT"
                                }
                            ]
                        },
                        {
                            "id": "67b61c77-35be-45c5-ba73-60dcc74a0bf6",
                            "version": "0:0",
                            "name": "Closing credits",
                            "description": "Credits sub-story narrative element",
                            "tags": {},
                            "presentation": {
                                "type": "STORY_ELEMENT",
                                "target": "a3f6756d-bf1f-4b65-b24b-cdfe234898fd"
                            },
                            "links": [
                                {
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "END_STORY"
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": "12451533-53b8-4534-be77-7e714d9ca75e",
                    "version": "0:0",
                    "name": "Make! Craft Britain Introduction",
                    "beginnings": [
                        {
                            "id": "d74fc0ec-7ae7-403c-9c88-3a6c30aa7619",
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ],
                    "narrative_elements": [
                        {
                            "id": "d74fc0ec-7ae7-403c-9c88-3a6c30aa7619",
                            "version": "0:0",
                            "name": "Title sequence",
                            "description": "Make! Craft Britain opening titles",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "031fdfee-97ae-4257-b15e-002ade70f518"
                            },
                            "links": [
                                {
                                    "target": "619f999a-5535-4b05-9f20-9b523033078b",
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "NARRATIVE_ELEMENT"
                                }
                            ]
                        },
                        {
                            "id": "619f999a-5535-4b05-9f20-9b523033078b",
                            "version": "0:0",
                            "name": "Introduction",
                            "description": "General introduction to programme",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "86f69eca-47a7-4b30-810c-d3f51dd63b9a"
                            },
                            "links": [
                                {
                                    "target": "1f07465e-fb57-4b98-a53d-809f125f003f",
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "NARRATIVE_ELEMENT"
                                }
                            ]
                        },
                        {
                            "id": "1f07465e-fb57-4b98-a53d-809f125f003f",
                            "version": "0:0",
                            "name": "How To Use",
                            "description": "Instructions on how to operate the experience",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "abed0e16-b284-46a2-9a0a-6351aa0215cc"
                            },
                            "links": [
                                {
                                    "target": "ed5304f6-b500-478d-b71d-c6632db95cf1",
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "NARRATIVE_ELEMENT"
                                }
                            ]
                        },
                        {
                            "id": "ed5304f6-b500-478d-b71d-c6632db95cf1",
                            "version": "0:0",
                            "name": "Instructor Introduction",
                            "description": "M!CB expert introduction",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "a04cf27c-8eea-44a7-a67c-5a58abbb6c51"
                            },
                            "links": [
                                {
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "END_STORY"
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": "634710e9-1ecd-4652-8ae6-771516cbe548",
                    "version": "0:0",
                    "name": "Make! Craft Britain Instructions",
                    "beginnings": [
                        {
                            "id": "bcc5d7ac-ab45-48a9-8c95-43539bec4a6f",
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ],
                    "narrative_elements": [
                        {
                            "id": "bcc5d7ac-ab45-48a9-8c95-43539bec4a6f",
                            "version": "0:0",
                            "name": "Make Step 1",
                            "description": "A description of the first step...",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "c867b2be-f174-4b24-a1fd-33c6104cb16b"
                            },
                            "links": [
                                {
                                    "target": "1dd1036a-9a94-41c3-a4c1-5a3c14579a09",
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "NARRATIVE_ELEMENT"
                                }
                            ]
                        },
                        {
                            "id": "1dd1036a-9a94-41c3-a4c1-5a3c14579a09",
                            "version": "0:0",
                            "name": "Make Step 2",
                            "description": "A description of the second step...",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "27d22c9e-9976-423b-ad32-1eef7ac7b263"
                            },
                            "links": [
                                {
                                    "target": "2f6e9abe-16f2-4ca4-b6af-47bc3099e980",
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "NARRATIVE_ELEMENT"
                                }
                            ]
                        },
                        {
                            "id": "2f6e9abe-16f2-4ca4-b6af-47bc3099e980",
                            "description": "A description of step 3",
                            "version": "0.0",
                            "name": "Make step 3",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "2a81aaee-510e-4941-aba6-76cbc4e25217"
                            },
                            "links": [
                                {
                                    "target": "27fcbbd1-01b2-4742-bcc3-b1bc56368d2e",
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "NARRATIVE_ELEMENT"
                                }
                            ]
                        },
                        {
                            "id": "27fcbbd1-01b2-4742-bcc3-b1bc56368d2e",
                            "description": "A description of step 4",
                            "version": "0.0",
                            "name": "Make step 4",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "219f88fe-a359-4046-8355-a79bf6b92b6b"
                            },
                            "links": [
                                {
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "END_STORY"
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": "a3f6756d-bf1f-4b65-b24b-cdfe234898fd",
                    "version": "0:0",
                    "name": "Make! Craft Britain Closing Credits",
                    "beginnings": [
                        {
                            "id": "89fc2d3f-9cd8-439c-b558-3e498bf7d424",
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ],
                    "narrative_elements": [
                        {
                            "id": "89fc2d3f-9cd8-439c-b558-3e498bf7d424",
                            "version": "0:0",
                            "name": "Closing credits",
                            "description": "...",
                            "tags": {},
                            "presentation": {
                                "type": "PRESENTATION_ELEMENT",
                                "target": "702c69f2-d44b-4ddb-aa73-4d4a40900b0e"
                            },
                            "links": [
                                {
                                    "condition": {
                                        "==": [
                                            1,
                                            1
                                        ]
                                    },
                                    "link_type": "END_STORY"
                                }
                            ]
                        }
                    ]
                }
            ],
            "presentations": [
                {
                    "id": "031fdfee-97ae-4257-b15e-002ade70f518",
                    "version": "0:0",
                    "name": "Title Sequence Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "5d65e1f9-41a6-4f0e-aadd-5a1f2c8a2081",
                                "version": "0:0",
                                "name": "Title Sequence Representation",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                "asset_collection": {
                                    "foreground": "cd825485-4de6-4b88-99c0-33e609dcf66e"
                                }
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "86f69eca-47a7-4b30-810c-d3f51dd63b9a",
                    "version": "0:0",
                    "name": "General Introduction Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "9804266b-575b-408f-b693-9e4aadcedada",
                                "version": "0:0",
                                "name": "General Intro Representation",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                "asset_collection": {
                                    "foreground": "6364E048-5F87-4226-BEC5-21776E0DF65F",
                                    "background": ["d22484f9-da14-484b-8051-71be36b2227f"]
                                },
                                "behaviours": {
                                }
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "abed0e16-b284-46a2-9a0a-6351aa0215cc",
                    "version": "0:0",
                    "name": "How To Use Tool Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "53cc9301-10fd-42a8-ae83-74f1e6354ad2",
                                "version": "0:0",
                                "name": "How to use the tool Representation",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                "asset_collection": {
                                    "foreground": "8b06cc58-1ccb-42e1-aeec-4302e817c671",
                                    "background": ["d22484f9-da14-484b-8051-71be36b2227f"]
                                }
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "a04cf27c-8eea-44a7-a67c-5a58abbb6c51",
                    "version": "0:0",
                    "name": "Instructor Introduction Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "a2d19468-9d62-486b-b835-f3f5173482a2",
                                "version": "0:0",
                                "name": "Instructor Introduction Representation",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                "asset_collection": {
                                    "foreground": "94ecd001-b209-4863-9853-b87c78d6aeaa",
                                    "background": ["d22484f9-da14-484b-8051-71be36b2227f"]
                                },
                                "behaviours": {
                                    "start": [
                                        { "type": "urn:x-object-based-media:asset-mixin:show-image-and-pause" }
                                    ]
                                }
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "c867b2be-f174-4b24-a1fd-33c6104cb16b",
                    "version": "0:0",
                    "name": "Make Step 1 Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "0505ff24-83e6-4e07-9f0b-45f57c010189",
                                "version": "0:0",
                                "name": "Make Step 1 Switchable Presentation Element",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:switchable/v1.0",
                                "choices": [
                                    {
                                        "label": "overhead",
                                        "representation": {
                                            "id": "8037d1c0-8ea3-4833-9aa8-dd910f3e89f3",
                                            "version": "0:0",
                                            "name": "Make Step 1 Camera 1 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "foreground": "f1482c67-1c5b-407b-90c3-c2f7288e253c",
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "FB95A7AB-FB65-4C73-9FD3-1910F8CE754F" }
                                            },
                                            "behaviours": [
                                                {
                                                    "type": "urn:x-object-based-media:asset-mixin:pause-at-end",
                                                    "image": "adeb8f74-00d1-45ce-bf92-8328bc66457a"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "label": "presenter",
                                        "representation": {
                                            "id": "aa7ff82e-5cf2-40bd-b9fb-48d0ed829458",
                                            "version": "0:0",
                                            "name": "Make Step 1 Camera 2 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "foreground": "fa20bde6-a388-4ec8-a457-ceaecdddcb4d",
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "265ECCF4-B4B0-4E55-9B9A-FAE9849330B1"}
                                            },
                                            "behaviours": [
                                                {
                                                    "type": "urn:x-object-based-media:asset-mixin:pause-at-end",
                                                    "image": "adeb8f74-00d1-45ce-bf92-8328bc66457a"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "label": "close-up",
                                        "representation": {
                                            "id": "3d22492b-ec4c-4cc0-80d1-b7f880aff0d5",
                                            "version": "0:0",
                                            "name": "Make Step 1 Camera 3 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "foreground": "852bd2f3-3b76-40af-bca6-b266a4c0d22e",
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "A914B88E-46D3-4D55-BE5F-7DE0000487BC"}
                                            },
                                            "behaviours": [
                                                {
                                                    "type": "urn:x-object-based-media:asset-mixin:pause-at-end",
                                                    "image": "adeb8f74-00d1-45ce-bf92-8328bc66457a"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "label": "graphic",
                                        "representation": {
                                            "id": "91a9bef3-acfd-4aab-ac5b-ac06d0ee4e85",
                                            "version": "0:0",
                                            "name": "Make Step 1 Image Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:image/v1.0",
                                            "asset_collection": {
                                                "foreground": "adeb8f74-00d1-45ce-bf92-8328bc66457a",
                                                "icon": { "default": "adeb8f74-00d1-45ce-bf92-8328bc66457a"}
                                            }
                                        }
                                    }
                                ],
                                "asset_collection": {
                                    "icon": { "default": "adeb8f74-00d1-45ce-bf92-8328bc66457a"}
                                }
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "27d22c9e-9976-423b-ad32-1eef7ac7b263",
                    "version": "0:0",
                    "name": "Make Step 2 Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "40a134c6-577d-4252-ac52-49619f643d52",
                                "version": "0:0",
                                "name": "Make Step 2 Switchable Presentation Element",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:switchable/v1.0",
                                "asset_collection": {
                                    "icon": { "default": "A5D6659B-9B9D-4C72-8A5D-826F100EFB75"}
                                },
                                "choices": [
                                    {
                                        "label": "overhead",
                                        "representation": {
                                            "id": "8B2F2302-0EAD-4515-A8F8-21580EF10E71",
                                            "version": "0:0",
                                            "name": "Make Step 2 Camera 1 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "foreground": "BD4289A0-A26E-430E-82BA-87493E4CF6C1",
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "FB95A7AB-FB65-4C73-9FD3-1910F8CE754F"}
                                            },
                                            "behaviours": [
                                                {
                                                    "type": "urn:x-object-based-media:asset-mixin:pause-at-end",
                                                    "image": "adeb8f74-00d1-45ce-bf92-8328bc66457a"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "label": "presenter",
                                        "representation": {
                                            "id": "54CDF7F2-9B96-43D9-A28A-94E55475A64A",
                                            "version": "0:0",
                                            "name": "Make Step 2 Camera 2 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "foreground": "D7EFDC54-136B-4C50-9D55-C0BB5526F00C",
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "265ECCF4-B4B0-4E55-9B9A-FAE9849330B1"}
                                            },
                                            "behaviours": [
                                                {
                                                    "type": "urn:x-object-based-media:asset-mixin:pause-at-end",
                                                    "image": "adeb8f74-00d1-45ce-bf92-8328bc66457a"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "label": "close-up",
                                        "representation": {
                                            "id": "FDF969D2-2A27-4BC7-AE9D-4E29040B2EDF",
                                            "version": "0:0",
                                            "name": "Make Step 2 Camera 3 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "foreground": "17A8C096-89B3-4033-8678-6DC4C1C3B80E",
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "A914B88E-46D3-4D55-BE5F-7DE0000487BC"}
                                            },
                                            "behaviours": [
                                                {
                                                    "type": "urn:x-object-based-media:asset-mixin:pause-at-end",
                                                    "image": "adeb8f74-00d1-45ce-bf92-8328bc66457a"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "label": "graphic",
                                        "representation": {
                                            "id": "DB81EC9A-8382-4ADC-9B9F-37E212C262DD",
                                            "version": "0:0",
                                            "name": "Make Step 2 Image Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:image/v1.0",
                                            "asset_collection": {
                                                "foreground": "A5D6659B-9B9D-4C72-8A5D-826F100EFB75",
                                                "icon": { "default": "A5D6659B-9B9D-4C72-8A5D-826F100EFB75"}
                                            }
                                        }
                                    }
                                ]
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "2a81aaee-510e-4941-aba6-76cbc4e25217",
                    "version": "0.0",
                    "name": "Make Step 3 Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "4249dcfe-dcd3-4692-9bbd-b9ec0a6ac1f2",
                                "version": "0.0",
                                "name": "Make Step 3 Switchable Representation Element",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:switchable/v1.0",
                                "choices": [
                                    {
                                        "label": "overhead",
                                        "representation": {
                                            "id": "04d4eace-ec49-4fdf-9d01-e52fcc2fa26c",
                                            "version": "0.0",
                                            "name": "Make Step 3 Camera 1 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "FB95A7AB-FB65-4C73-9FD3-1910F8CE754F"},
                                                "foreground": "4522264a-eac6-4f33-850e-f8b3a6ddfd82"
                                            }
                                        }
                                    },
                                    {
                                        "label": "presenter",
                                        "representation": {
                                            "id": "814791d9-b8a0-4747-98d7-3864e74efbd7",
                                            "version": "0.0",
                                            "name": "Make Step 3 Camera 2 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "265ECCF4-B4B0-4E55-9B9A-FAE9849330B1"},
                                                "foreground": "b2923d5a-c957-49d5-9dee-8cc00e5cd126"
                                            }
                                        }
                                    },
                                    {
                                        "label": "close-up",
                                        "representation": {
                                            "id": "27e2f857-27d2-41d3-876a-51a61985bb35",
                                            "version": "0.0",
                                            "name": "Make Step 3 Camera 3 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "A914B88E-46D3-4D55-BE5F-7DE0000487BC"},
                                                "foreground": "21da63f3-1595-4050-bd9d-4ae605c19259"
                                            }
                                        }
                                    },
                                    {
                                        "label": "graphic",
                                        "representation": {
                                            "id": "eea3af12-f374-4315-b742-0e1bbccacfac",
                                            "version": "0.0",
                                            "name": "Make Step 3 Image Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:image/v1.0",
                                            "asset_collection": {
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "3f0f5f04-c3e1-456b-91ce-37a0a62fc681"},
                                                "foreground": "3f0f5f04-c3e1-456b-91ce-37a0a62fc681"
                                            }
                                        }
                                    }
                                ],
                                "asset_collection": {
                                    "icon": { "default": "3f0f5f04-c3e1-456b-91ce-37a0a62fc681"}
                                }
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "219f88fe-a359-4046-8355-a79bf6b92b6b",
                    "version": "0.0",
                    "name": "Make Step 4 Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "e04bf9fa-ce57-4adb-94f8-ed5e1ef46f33",
                                "version": "0.0",
                                "name": "Make Step 4 Switchable Representation Element",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:switchable/v1.0",
                                "choices": [
                                    {
                                        "label": "overhead",
                                        "representation": {
                                            "id": "304ebe1e-32c8-4b6a-b48e-06ccf924385b",
                                            "version": "0.0",
                                            "name": "Make Step 4 Camera 1 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "FB95A7AB-FB65-4C73-9FD3-1910F8CE754F"},
                                                "foreground": "89d3beb8-3ac4-4105-a0f4-56cf7c591880"
                                            }
                                        }
                                    },
                                    {
                                        "label": "presenter",
                                        "representation": {
                                            "id": "ea5af6e2-819f-454a-ac95-b70b82a19c70",
                                            "version": "0.0",
                                            "name": "Make Step 4 Camera 2 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "265ECCF4-B4B0-4E55-9B9A-FAE9849330B1"},
                                                "foreground": "c6fa1468-2e09-4d32-8064-797a8e3d18c4"
                                            }
                                        }
                                    },
                                    {
                                        "label": "close-up",
                                        "representation": {
                                            "id": "3ab81b85-e406-4efa-9778-20589a8459eb",
                                            "version": "0.0",
                                            "name": "Make Step 4 Camera 3 Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                            "asset_collection": {
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "A914B88E-46D3-4D55-BE5F-7DE0000487BC"},
                                                "foreground": "a6a85eb5-e89f-4b55-8ae7-3bac9e3149f5"
                                            }
                                        }
                                    },
                                    {
                                        "label": "graphic",
                                        "representation": {
                                            "id": "d5b54d1b-d32a-4879-92a0-a63683f6536c",
                                            "version": "0.0",
                                            "name": "Make Step 4 Image Representation Element",
                                            "tags": {},
                                            "representation_type": "urn:x-object-based-media:representation-types:image/v1.0",
                                            "asset_collection": {
                                                "background": ["d22484f9-da14-484b-8051-71be36b2227f"],
                                                "icon": { "default": "ae9b9c9f-9a94-4449-b3de-1b2dbb2df447"},
                                                "foreground": "ae9b9c9f-9a94-4449-b3de-1b2dbb2df447"
                                            }
                                        }
                                    }
                                ],
                                "asset_collection": {
                                    "icon": { "default": "ae9b9c9f-9a94-4449-b3de-1b2dbb2df447"}
                                }
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "702c69f2-d44b-4ddb-aa73-4d4a40900b0e",
                    "version": "0:0",
                    "name": "Credit Sequence Presentation Element",
                    "tags": {},
                    "representations": [
                        {
                            "representation": {
                                "id": "d281c69a-3625-40dc-ab58-c3d7c91506f8",
                                "version": "0:0",
                                "name": "Credit Sequence Representation",
                                "tags": {},
                                "representation_type": "urn:x-object-based-media:representation-types:simple-av/v1.0",
                                "asset_collection": {
                                    "foreground": "ae397f04-c91b-4380-833f-03abc18bf443"
                                }
                            },
                            "condition": {
                                "==": [
                                    1,
                                    1
                                ]
                            }
                        }
                    ]
                }
            ]
        }
    </script>
    <script src="dist/romper.browser.js"></script>
    <script>
        (function () {
            const config = JSON.parse(document.getElementById('romper-story').textContent);
            const wait = () => new Promise(resolve => setTimeout(resolve, Math.random() * 100));
            let romper = window.Romper.init({
                target: document.getElementById('romper-target'),
                dataResolver: window.Romper.RESOLVERS.FROM_OBJECT(config.state),
                storyFetcher: id => Promise.resolve(wait().then(() => config.story.filter(storyObject => storyObject.id === id)[0])),
                // storyFetcher: id => Promise.resolve(
                // config.story
                //         .filter(storyObject => storyObject.id === id)[0]
                // ).then(storyObject => storyObject ? storyObject : Promise.reject('no such story object ' + id)),
                mediaFetcher: uri => Promise.resolve(uri).then(resolvedUri => {
                    if (resolvedUri === '') {
                        return './dist/democontent/bbctestcard.mp4';
                    } else if (resolvedUri.indexOf('dist/democontent') !== -1) {
                        return resolvedUri;
                    } else if (resolvedUri.indexOf('localhost') === -1) {
                        return './dist/democontent/bbctestcard.mp4';
                    } else {
                        return resolvedUri;
                    }
                    // resolvedUri ? resolvedUri : Promise.reject('cannot resolve uri');
                }),
                presentationFetcher: id => Promise.resolve(
                    config.presentations
                        .filter(presentationObject => presentationObject.id === id)[0]
                ).then(presentationObject => presentationObject ? presentationObject : Promise.reject('no such presentation object ' + id)),
                assetCollectionFetcher: id => Promise.resolve(
                    config.asset_collections
                        .filter(assetCollectionObject => assetCollectionObject.id === id)[0]
                ).then(assetCollectionObject => assetCollectionObject ? assetCollectionObject : Promise.reject('no such asset collection')),
            });

            romper.start('74ecc9ed-a4f8-4706-8762-779bd0430fd3');
        })();
    </script>
</body>

</html>